(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{8216:function(e,s,t){Promise.resolve().then(t.bind(t,4881))},4881:function(e,s,t){"use strict";var i=t(7437),a=t(2265),n=t(5346),c=t(4218),l=t(908);s.default=()=>{let e=(0,n.N)(),[s,t]=(0,a.useState)([]),[r,u]=(0,a.useState)(!0),[d,o]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{let{data:{user:s}}=await e.auth.getUser();if(s){let{data:i,error:a}=await e.from("fees").select("*").eq("parent_id",s.id);a?o(a.message):t(i)}u(!1)})()},[]);let f=async s=>{let i=async()=>{let{data:{user:s}}=await e.auth.getUser();if(!s)return;let{data:i,error:a}=await e.from("fees").select("*").eq("parent_id",s.id);a||t(i)},{error:a}=await e.from("fees").update({status:"paid"}).eq("id",s);a?o(a.message):(m(!0),setTimeout(()=>m(!1),3e3),i())};return r?(0,i.jsx)(c.Z,{}):d?(0,i.jsxs)("div",{children:["Error: ",d]}):(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h1",{className:"text-xl font-bold",children:"Fee Payment Portal"}),(0,i.jsx)("ul",{className:"mt-4",children:s.map(e=>(0,i.jsxs)("li",{className:"flex justify-between items-center border-b py-2",children:[(0,i.jsxs)("span",{children:[e.description," - $",e.amount]}),(0,i.jsx)("button",{onClick:()=>f(e.id),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Pay Now"})]},e.id))}),h&&(0,i.jsx)(l.Z,{message:"Payment Successful!",type:"success"})]})}},908:function(e,s,t){"use strict";var i=t(7437);t(2265);var a=t(5669);s.Z=e=>{let{message:s,type:t}=e;return(0,i.jsxs)("div",{className:"flex items-center p-4 ".concat("success"===t?"bg-green-500":"bg-red-500"),children:["success"===t&&(0,i.jsx)(a.Z,{loop:!1,play:!0,src:"/lottie/checkmark.json",style:{width:40,height:40,marginRight:"1rem"}}),(0,i.jsx)("span",{className:"text-white",children:s})]})}},4218:function(e,s,t){"use strict";var i=t(7437);t(2265);var a=t(5669);s.Z=()=>(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsx)(a.Z,{loop:!0,src:"/lottie/loading.json",play:!0,style:{width:150,height:150}})})},5346:function(e,s,t){"use strict";t.d(s,{N:function(){return a}});let i=(0,t(9683).eI)("https://xuvyylpwmhnoyiklbcuo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh1dnl5bHB3bWhub3lpa2xiY3VvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNzk2ODEsImV4cCI6MjA3NTY1NTY4MX0.aR7PHwf-QzlLIvScMbtzVJm9sAkwTLDhMYgtEwavnDM"),a=()=>i}},function(e){e.O(0,[705,683,669,971,117,744],function(){return e(e.s=8216)}),_N_E=e.O()}]);