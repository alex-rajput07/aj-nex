(()=>{var e={};e.id=464,e.ids=[464],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2615:e=>{"use strict";e.exports=require("http")},8791:e=>{"use strict";e.exports=require("https")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},9810:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(8077),s(2968),s(1506),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["parent",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8077)),"c:\\Users\\ajju2\\OneDrive\\Desktop\\AJ\\aj-erp\\app\\dashboard\\parent\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2968)),"c:\\Users\\ajju2\\OneDrive\\Desktop\\AJ\\aj-erp\\app\\dashboard\\parent\\layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"c:\\Users\\ajju2\\OneDrive\\Desktop\\AJ\\aj-erp\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["c:\\Users\\ajju2\\OneDrive\\Desktop\\AJ\\aj-erp\\app\\dashboard\\parent\\page.tsx"],p="/dashboard/parent/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/parent/page",pathname:"/dashboard/parent",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},102:(e,t,s)=>{Promise.resolve().then(s.bind(s,2649))},3423:()=>{},1512:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5303:()=>{},2649:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(326),a=s(7577),i=s(4276),n=s(1642),l=s(4392);let o=()=>{let e=(0,i.N)(),[t,s]=(0,a.useState)([]),[o,d]=(0,a.useState)(!0),[c,p]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{let{data:{user:t}}=await e.auth.getUser();if(t){let{data:r,error:a}=await e.from("fees").select("*").eq("parent_id",t.id);a?p(a.message):s(r)}d(!1)})()},[]);let m=async t=>{let r=async()=>{let{data:{user:t}}=await e.auth.getUser();if(!t)return;let{data:r,error:a}=await e.from("fees").select("*").eq("parent_id",t.id);a||s(r)},{error:a}=await e.from("fees").update({status:"paid"}).eq("id",t);a?p(a.message):(h(!0),setTimeout(()=>h(!1),3e3),r())};return o?r.jsx(n.Z,{}):c?(0,r.jsxs)("div",{children:["Error: ",c]}):(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h1",{className:"text-xl font-bold",children:"Fee Payment Portal"}),r.jsx("ul",{className:"mt-4",children:t.map(e=>(0,r.jsxs)("li",{className:"flex justify-between items-center border-b py-2",children:[(0,r.jsxs)("span",{children:[e.description," - $",e.amount]}),r.jsx("button",{onClick:()=>m(e.id),className:"bg-blue-500 text-white px-4 py-2 rounded",children:"Pay Now"})]},e.id))}),u&&r.jsx(l.Z,{message:"Payment Successful!",type:"success"})]})}},4392:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(326);s(7577);var a=s(4337);let i=({message:e,type:t})=>(0,r.jsxs)("div",{className:`flex items-center p-4 ${"success"===t?"bg-green-500":"bg-red-500"}`,children:["success"===t&&r.jsx(a.Z,{loop:!1,play:!0,src:"/lottie/checkmark.json",style:{width:40,height:40,marginRight:"1rem"}}),r.jsx("span",{className:"text-white",children:e})]})},1642:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(326);s(7577);var a=s(4337);let i=()=>r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsx(a.Z,{loop:!0,src:"/lottie/loading.json",play:!0,style:{width:150,height:150}})})},4276:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let r=(0,s(1812).eI)("https://xuvyylpwmhnoyiklbcuo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh1dnl5bHB3bWhub3lpa2xiY3VvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAwNzk2ODEsImV4cCI6MjA3NTY1NTY4MX0.aR7PHwf-QzlLIvScMbtzVJm9sAkwTLDhMYgtEwavnDM"),a=()=>r},2968:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9510);s(1159);let a=({children:e})=>(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[r.jsx("header",{className:"bg-blue-600 text-white p-4",children:r.jsx("h1",{className:"text-xl font-bold",children:"Parent Portal"})}),r.jsx("main",{className:"p-4",children:e})]})},8077:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(9510);s(1159);let a=(0,s(8570).createProxy)(String.raw`c:\Users\ajju2\OneDrive\Desktop\AJ\aj-erp\app\dashboard\parent\FeePaymentPortal.tsx#default`),i=()=>(0,r.jsxs)("div",{className:"p-4",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Parent Dashboard"}),r.jsx(a,{})]})},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(9510);s(1159),s(7272);let a=({children:e})=>(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{children:r.jsx("title",{children:"AJ ERP - School Management System"})}),r.jsx("body",{children:r.jsx("main",{children:e})})]})},7272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,471,812,337],()=>s(9810));module.exports=r})();